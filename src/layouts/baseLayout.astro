---
import { Image } from "astro:assets";

import Floater from "../components/floater.astro";
import Star from "../components/star.astro";
import keyframes from "../images/keyframes.svg";

const stars = Array(100).fill(null);
const floaters = [
  {
    id: "impostor",
    name: "Impostor",
    description: "Samuel was not The Impostor. 1 Impostor remains.",
    image: "/images/floaters/impostor.webp",
  },
  {
    id: "hackclub",
    name: "Hack Club",
    description:
      "Hack Club is a global nonprofit network of high school makers & student-led coding clubs! Check it out at https://hackclub.com",
    image: "/images/floaters/hackclub.svg",
  },
  {
    id: "icon",
    name: "Me!",
    description: "My icon on the interwebs. Made in blender!",
    image: "/images/floaters/icon.webp",
  },
];
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <slot name="metadata" />
    <title>Samuel Fernandez</title>

    <style is:global>
      :root {
        scroll-behavior: smooth;
        scroll-padding-top: 10vh;
      }

      @font-face {
        font-family: "Dosis";
        font-display: swap;
        src: url("/fonts/Dosis.ttf") format("truetype");
      }
      @font-face {
        font-family: "Space Grotesk";
        font-display: swap;
        src: url("/fonts/SpaceGrotesk.ttf") format("truetype");
      }
      @font-face {
        font-family: "IBM Plex Sans";
        font-display: swap;
        src: url("/fonts/IBMPlexSans.ttf") format("truetype");
      }

      .content {
        font-family: "IBM Plex Sans", sans-serif;
        overflow-wrap: break-word;
      }

      .content h1 {
        font-size: 2.5rem;
        line-height: 3.5rem;
      }

      .content p {
        margin: 0.75rem 0;
      }

      .content a {
        color: theme(colors.blue);
        text-decoration: underline;
      }

      .content ul {
        list-style: inside;
      }
    </style>
  </head>
  <body class="bg-bgc text-white">
    <div class="motion-reduce:hidden">
      {
        floaters.map((floater) => (
          <Floater
            id={floater.id}
            name={floater.name}
            description={floater.description}
            image={floater.image}
          />
        ))
      }
    </div>
    <div>
      {stars.map(() => <Star />)}
    </div>
    <div
      class="sticky top-0 z-30 flex w-full flex-row items-center justify-center">
      <nav
        class="flex w-5/6 flex-row items-center justify-between bg-bgc bg-opacity-70 p-3 font-space-grotesk">
        <div
          class="flex w-screen flex-row items-center justify-start lg:w-auto lg:justify-center">
          <h1>
            <a
              href="/"
              class="group w-min text-center text-3xl md:text-4xl lg:w-max">
              Samuel Fernandez
              <span
                class="block h-0.5 max-w-0 bg-white transition-all duration-500 group-hover:max-w-full"
              ></span>
            </a>
          </h1>
          <div class="flex flex-row items-center justify-around lg:mx-5">
            <a target="_blank" href="https://github.com/polypixeldev">
              <img
                src="/images/contact/gh.svg"
                alt="The GitHub logo"
                class="m-2 h-5 w-5 rounded-full transition-all duration-300 hover:[box-shadow:0px_0px_10px_#fff] md:h-8 md:w-8"
              />
            </a>
            <a
              target="_blank"
              href="https://www.linkedin.com/in/sfernandezdev/">
              <img
                src="/images/contact/linkedin.svg"
                alt="The LinkedIn logo"
                class="m-2 h-5 w-5 rounded-md transition-all duration-300 hover:[box-shadow:0px_0px_10px_#fff] md:h-8 md:w-8"
              />
            </a>
          </div>
        </div>
        <div
          class="hidden w-1/2 flex-row items-center justify-around text-3xl lg:flex">
          <a href="/#about" class="group">
            About
            <span
              class="block h-0.5 max-w-0 bg-white transition-all duration-500 group-hover:max-w-full"
            ></span>
          </a>
          <a href="/#projects" class="group">
            Projects
            <span
              class="block h-0.5 max-w-0 bg-white transition-all duration-500 group-hover:max-w-full"
            ></span>
          </a>
        </div>
        <Image
          id="toggle"
          class="cursor-pointer rounded-full hover:animate-pulse"
          src={keyframes}
          alt="Empty ball"
          width={40}
          height={40}
        />
      </nav>
    </div>

    <slot />
    <script src="../util/drawStars.ts"></script>
    <script src="../util/drawFloaters.ts"></script>
  </body>
</html>
